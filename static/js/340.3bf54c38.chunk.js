"use strict";(self.webpackChunkfirst_lesson=self.webpackChunkfirst_lesson||[]).push([[340],{5340:function(e,n,o){o.r(n),o.d(n,{default:function(){return R}});var s=o(8683),r=o(5671),t=o(3144),i=o(136),l=o(516),a=o(2791),u=o(8687),c=o(1094),g=o(5987),h=o(1087),p="User_info__block__YRxoW",f="User_ava__block__k+iGk",d="User_img__block__Q3Mw-",_="User_text__block__7HVTT",P="User_text__left__wqPxK",U="User_text__right__pk43T",x=o(184),j=function(e){var n=e.u,o=e.followingInProgress,s=e.setFollowToUser,r=e.setUnfollowToUser;return(0,x.jsxs)("div",{className:p,children:[(0,x.jsxs)("div",{className:f,children:[(0,x.jsx)("div",{className:d,children:(0,x.jsx)(h.OL,{to:"/profile/"+n.id,children:(0,x.jsx)("img",{src:null!==n.photos.small?n.photos.small:"https://img.freepik.com/premium-vector/mans-head-avatar-vector_83738-354.jpg",alt:"avatar"})})}),n.followed?(0,x.jsx)("button",{disabled:o.some((function(e){return e===n.id})),onClick:function(){r(n.id)},children:" Unfollow "}):(0,x.jsx)("button",{disabled:o.some((function(e){return e===n.id})),onClick:function(){s(n.id)},children:" Follow "})]}),(0,x.jsxs)("div",{className:_,children:[(0,x.jsxs)("div",{className:P,children:[(0,x.jsx)("h3",{children:n.name}),(0,x.jsx)("p",{children:n.status})]}),(0,x.jsxs)("div",{className:U,children:[(0,x.jsx)("h3",{children:"props.u.location.city"}),(0,x.jsx)("h3",{children:"props.u.location.country"})]})]})]})},w=o(9439),m="Paginator_selectedPage__CRNLp",v=function(e){for(var n=e.totalItemsCount,o=e.pageSize,s=e.currentPage,r=e.onPageChanged,t=e.portionSize,i=void 0===t?10:t,l=Math.ceil(n/o),u=Math.ceil(l/i),c=(0,a.useState)(Math.ceil(s/i)),g=(0,w.Z)(c,2),h=g[0],p=g[1],f=(h-1)*i+1,d=h*i,_=[],P=1;P<=l;P++)_.push(P);return(0,x.jsxs)("div",{children:[h>1&&(0,x.jsx)("button",{onClick:function(){p(h-1)},children:"PREV"}),_.filter((function(e){return e>=f&&e<=d})).map((function(e){return(0,x.jsx)("button",{onClick:function(n){r(e)},className:s===e?m:null,children:e},e)})),u>h&&(0,x.jsx)("button",{onClick:function(){p(h+1)},children:"NEXT"})]})},C=["currentPage","totalUsersCount","pageSize","users","onPageChanged","followingInProgress","portionSize"],k=function(e){var n=e.currentPage,o=e.totalUsersCount,s=e.pageSize,r=e.users,t=e.onPageChanged,i=e.followingInProgress,l=e.portionSize,a=(0,g.Z)(e,C);return(0,x.jsxs)("div",{children:[(0,x.jsx)("h2",{children:"Users"}),r.map((function(e){return(0,x.jsx)(j,{u:e,followingInProgress:i,setFollowToUser:a.setFollowToUser,setUnfollowToUser:a.setUnfollowToUser},e.id)})),(0,x.jsx)(v,{currentPage:n,totalItemsCount:o,pageSize:s,onPageChanged:t,portionSize:l})]})},S=o(1628),z=o(7781),T=function(e){return e.usersPage.usersData},b=function(e){return e.usersPage.pageSize},F=function(e){return e.usersPage.totalUsersCount},Z=function(e){return e.usersPage.currentPage},N=function(e){return e.usersPage.isFetching},I=function(e){return e.usersPage.followingInProgress},y=function(e){return e.usersPage.portionSize},M=function(e){(0,i.Z)(o,e);var n=(0,l.Z)(o);function o(){var e;(0,r.Z)(this,o);for(var s=arguments.length,t=new Array(s),i=0;i<s;i++)t[i]=arguments[i];return(e=n.call.apply(n,[this].concat(t))).onPageChanged=function(n){var o=e.props.pageSize;e.props.getUsers(n,o)},e}return(0,t.Z)(o,[{key:"componentDidMount",value:function(){var e=this.props,n=e.currentPage,o=e.pageSize;this.props.getUsers(n,o)}},{key:"render",value:function(){return(0,x.jsx)(x.Fragment,{children:this.props.isFetching?(0,x.jsx)(S.Z,{}):(0,x.jsx)(k,(0,s.Z)((0,s.Z)({},this.props),{},{onPageChanged:this.onPageChanged,setFollowToUser:this.props.setFollowToUser,setUnfollowToUser:this.props.setUnfollowToUser,portionSize:this.props.portionSize}))})}}]),o}(a.Component),R=(0,z.qC)((0,u.$j)((function(e){return{users:T(e),pageSize:b(e),totalUsersCount:F(e),currentPage:Z(e),isFetching:N(e),followingInProgress:I(e),portionSize:y(e)}}),{setCurrentPage:c.D4,toggleFollowingProgress:c.ZH,getUsers:c.Rf,setFollowToUser:c.hq,setUnfollowToUser:c.Jb}))(M)}}]);
//# sourceMappingURL=340.3bf54c38.chunk.js.map